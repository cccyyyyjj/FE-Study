<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/style_messi.css">
	<title>02-로딩바</title>
</head>
<body>
	<h1>02-로딩바</h1>
	<hr>
	<h2>CSS3 - animation / @keyframes ( IE10+ )</h2>
	<div class="loading-bar animate-loading" aria-label="로딩중"></div>
	<hr>
	<h2>JS ( IE9이하 )</h2>
	<div class="loading-bar js-loading" aria-label="로딩중">
		<span id="target" class="inner-loading-bar"></span>
	</div>

<script>
var loadingBar = {
	'settings': {
		'target': document.getElementById('target'),
		'posX': window.getComputedStyle ? parseInt(window.getComputedStyle(target).left) : parseInt(target.currentStyle.left),
		'maxPosX': 200,
		'distance' : 5
	},

	'init': function(){
		this.repeatLoading();
	},

	'repeatLoading': function(){
	 	setInterval(this.animationLoading, 25);
	 },

	 'animationLoading': function(){
		if( loadingBar.settings.posX === loadingBar.settings.maxPosX ) {
			loadingBar.settings.posX = -40;
		} else {
			loadingBar.settings.target.style.left = loadingBar.settings.posX + 'px';
		}
		loadingBar.settings.posX += loadingBar.settings.distance;
	 }
}
loadingBar.init();
</script>
</body>
</html>